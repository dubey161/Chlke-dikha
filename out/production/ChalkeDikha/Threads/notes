ğŸ§  PROCESS & THREADS â€” COMPLETE NOTES (Java + JVM Perspective)
1ï¸âƒ£ What is a Process? âœ…
ğŸ”¹ Definition

A process is an instance of a program that is being executed.

ğŸ”¹ Simple Explanation

You write a Java program â†’ Test.java

Compile it â†’ javac Test.java

Run it â†’ java Test

ğŸ‘‰ At the moment you run java Test, a PROCESS is created.

ğŸ”¹ What a Process Contains

Allocated by Operating System

Has its own resources

Memory

JVM instance

Threads

ğŸ“Œ Two different processes never share memory

ğŸ”¹ Example

Running the same program twice:

java Test
java Test


â¡ï¸ Creates two separate processes
â¡ï¸ Each has:

Its own JVM

Its own heap

Its own threads

2ï¸âƒ£ What is a Thread? âœ…
ğŸ”¹ Definition

A thread is the smallest sequence of instructions executed independently by the CPU.

ğŸ”¹ Key Points

Thread is also called Lightweight Process

Threads exist inside a process

A process can have multiple threads

Threads share memory of the process

ğŸ”¹ Important Rule

When a process starts, it always starts with ONE thread called the Main Thread

ğŸ”¹ Java Example
public class Test {
    public static void main(String[] args) {
        System.out.println(Thread.currentThread().getName());
    }
}


OUTPUT

main

3ï¸âƒ£ Relationship: Process vs Thread
Process
 â”œâ”€â”€ Thread-1
 â”œâ”€â”€ Thread-2
 â””â”€â”€ Thread-3

Aspect	Process	Thread
Memory	Separate	Shared
Creation cost	Heavy	Light
Communication	Difficult	Easy
Isolation	Yes	No
4ï¸âƒ£ JVM Memory Structure (VERY IMPORTANT)

Each process gets one JVM instance.

JVM Memory Areas
JVM Instance
 â”œâ”€â”€ Heap
 â”œâ”€â”€ Code Segment
 â”œâ”€â”€ Data Segment
 â”œâ”€â”€ Stack (per thread)
 â”œâ”€â”€ Register (per thread)
 â””â”€â”€ Program Counter (per thread)

5ï¸âƒ£ Memory Area Definitions (Interview Gold)
ğŸ”¹ 1. Code Segment

Stores compiled machine code

Generated using Interpreter / JIT

Read-only

Shared by all threads

ğŸ“Œ Threads cannot modify code

ğŸ”¹ 2. Data Segment

Stores:

static variables

global variables

Shared by all threads

Needs synchronization

ğŸ”¹ 3. Heap Memory

Stores objects (new keyword)

Shared by all threads in a process

Controlled by:

-Xms256m  (initial heap)
-Xmx2g    (max heap)


ğŸ“Œ Different processes â†’ different heaps

ğŸ”¹ 4. Stack (Per Thread)

Stores:

Method calls

Local variables

Each thread has its own stack

ğŸ”¹ 5. Register (Per Thread)

Stores intermediate CPU values

Used during:

Execution

Context switching

ğŸ”¹ 6. Program Counter (PC)

Points to next instruction to execute

Each thread has its own PC

Increments after each instruction

6ï¸âƒ£ JVM + Process Creation Flow (Step-by-Step)
Java Source Code
      â†“
javac â†’ Bytecode
      â†“
java â†’ Process Created
      â†“
JVM Instance Created
      â†“
Machine Code Generated (JIT)
      â†“
Threads Created
      â†“
CPU Executes Threads

7ï¸âƒ£ How Threads Execute (CORE CONCEPT)
Threads share:

Code Segment

Heap

Data Segment

Threads have their own:

Stack

Register

Program Counter

8ï¸âƒ£ What is Context Switching? ğŸ”„
ğŸ”¹ Definition

Context switching is the process of saving the state of one thread and restoring another thread so CPU can switch execution.

ğŸ”¹ Why Needed?

Limited CPU cores

Multiple threads competing

9ï¸âƒ£ Case 1: Single CPU (Single Core)
CPU
 â”œâ”€â”€ Thread-1 (runs 1 sec)
 â”œâ”€â”€ Thread-2 (runs 1 sec)
 â””â”€â”€ Thread-3 (runs 1 sec)

What Happens?

Only one thread runs at a time

OS switches threads rapidly

Looks parallel but is NOT actual parallelism

ğŸ“Œ Context Switching occurs

ğŸ” Context Switching Flow
Thread-1
  â†“ save registers
Thread-2
  â†“ save registers
Thread-3
  â†“ save registers
Thread-1 resumes

ğŸ”Ÿ Case 2: Multiple CPUs / Multi-Core
CPU-1 â†’ Thread-1
CPU-2 â†’ Thread-2
CPU-3 â†’ Thread-3

What Happens?

Threads run truly parallel

Minimal context switching

High performance

1ï¸âƒ£1ï¸âƒ£ Multithreading Definition

Multithreading allows a program to perform multiple operations concurrently by sharing the same process resources.

1ï¸âƒ£2ï¸âƒ£ Benefits of Multithreading âœ…

Improved Performance

Better CPU Utilization

Responsiveness

Efficient Resource Sharing

1ï¸âƒ£3ï¸âƒ£ Challenges of Multithreading âŒ

Race Condition

Deadlock

Data Inconsistency

Hard Debugging

Synchronization Overhead

1ï¸âƒ£4ï¸âƒ£ Multitasking vs Multithreading
Multitasking	Multithreading
Multiple Processes	Multiple Threads
No memory sharing	Shared memory
Heavy	Lightweight
OS-level	JVM-level
Multitasking:
Process-1 | Process-2

Multithreading:
Process
 â”œâ”€â”€ Thread-1
 â””â”€â”€ Thread-2

ğŸ”š Final One-Line Summary (Interview Ready)

Process provides isolation and resources, threads provide concurrency and speed by sharing those resources efficiently.